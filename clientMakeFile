

# all:Actor.o Command.o Game.o ReadKey.o test.o
# 	clang++ -std=c++11 test Command.o Game.o ReadKey.o Actor.o test.o

CPP_FLAGS= -std=c++11

PLAT_MACRO= -D CLIENT_COMPARE

LINK= -lpthread

CC=clang++ -g ${CPP_FLAGS} ${PLAT_MACRO}

objs= Actor.o Command.o Game.o ReadKey.o Client.o HandleMsg.o test.o

test: ${objs}
	$(CC) -o $@ $^  ${LINK}
Command.o:Command.cpp Command.h MyEnum.h
	$(CC) -c Command.cpp
Actor.o:Actor.cpp Actor.h MyEnum.h ReadKey.h Command.h
	$(CC) -c Actor.cpp
Game.o:Game.cpp Game.h ReadKey.h MyEnum.h HandleMsg.h SeqToBin.h ConcQueue.h
	$(CC) -c Game.cpp
ReadKey.o:ReadKey.cpp ReadKey.h Command.h SeqToBin.h TalkManger.h
	$(CC)  -c ReadKey.cpp
test.o:test.cpp Singleton.h CommandDoer.h MyEnum.h Command.h Actor.h ReadKey.h Game.h SeqToBin.h Client.h SeqAbleObj.h TalkManger.h ThreadPool.h
	$(CC)  -c test.cpp
Client.o:Client.cpp Client.h ConcQueue.h SeqToBin.h SeqAbleObj.h Command.h
	$(CC)  -c Client.cpp
HandleMsg.o:HandleMsg.cpp HandleMsg.h redis_pool.h ThreadPool.h ComManger.h SeqToBin.h SeqAbleObj.h mysql_pool.h Player.h
	$(CC)  -c HandleMsg.cpp
clean:
	rm ${objs}
